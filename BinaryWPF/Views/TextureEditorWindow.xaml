<Window x:Class="BinaryWPF.Views.TextureEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:wfi="clr-namespace:System.Windows.Forms.Integration;assembly=WindowsFormsIntegration"
        mc:Ignorable="d"
        Title="Texture Editor" Height="720" Width="1200" WindowStartupLocation="CenterScreen"
        MinWidth="1000" MinHeight="620">
  <DockPanel>
    <Menu DockPanel.Dock="Top">
      <MenuItem Header="Textures">
        <MenuItem Header="Add Texture" Command="{Binding AddTextureCommand}" InputGestureText="Ctrl+A" />
        <MenuItem Header="Remove Texture" Command="{Binding RemoveTextureCommand}" InputGestureText="Ctrl+D" />
        <MenuItem Header="Copy Texture" Command="{Binding CopyTextureCommand}" InputGestureText="Ctrl+C" />
        <MenuItem Header="Replace Texture" Command="{Binding ReplaceTextureCommand}" InputGestureText="Ctrl+R" />
        <MenuItem Header="Export Texture" Command="{Binding ExportTextureCommand}" InputGestureText="Ctrl+E" />
      </MenuItem>
      <MenuItem Header="Options">
        <MenuItem Header="Export All" Command="{Binding ExportAllCommand}" InputGestureText="Ctrl+Shift+E" />
        <MenuItem Header="Import From Folder" Command="{Binding ImportFromCommand}" InputGestureText="Ctrl+Shift+I" />
        <MenuItem Header="Find And Replace" Command="{Binding FindReplaceCommand}" InputGestureText="Ctrl+Shift+R" />
      </MenuItem>
      <MenuItem Header="Tools">
        <MenuItem Header="Hasher" Command="{Binding HasherCommand}" InputGestureText="Alt+H" />
        <MenuItem Header="Raider" Command="{Binding RaiderCommand}" InputGestureText="Alt+R" />
      </MenuItem>
    </Menu>

    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="520" />
        <ColumnDefinition Width="5" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>

      <Grid Grid.Column="0">
        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
          <RowDefinition Height="5" />
          <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <DataGrid Grid.Row="0" Margin="10" AutoGenerateColumns="False" IsReadOnly="True"
                  ItemsSource="{Binding Textures}" SelectedItem="{Binding SelectedTexture}"
                  HeadersVisibility="Column" CanUserResizeColumns="False"
                  Sorting="DataGrid_Sorting" SelectionChanged="OnSelectionChanged">
          <DataGrid.Resources>
            <Style TargetType="DataGridRow">
              <Style.Triggers>
                <DataTrigger Binding="{Binding IsHighlighted}" Value="True">
                  <Setter Property="Background" Value="#FF60343A" />
                </DataTrigger>
              </Style.Triggers>
            </Style>
          </DataGrid.Resources>
          <DataGrid.Columns>
            <DataGridTextColumn Header="Index" Binding="{Binding Index}" Width="60" />
            <DataGridTextColumn Header="BinKey" Binding="{Binding BinKey}" Width="120" />
            <DataGridTextColumn Header="CollectionName" Binding="{Binding CollectionName}" Width="*" />
            <DataGridTextColumn Header="Format" Binding="{Binding Format}" Width="90" />
          </DataGrid.Columns>
        </DataGrid>

        <GridSplitter Grid.Row="1" Height="5" VerticalAlignment="Stretch" Background="#333" />

        <wfi:WindowsFormsHost x:Name="PropertyGridHost" Grid.Row="2" Margin="10" />
      </Grid>

      <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" Background="#333" />

      <Border Grid.Column="2" Margin="10" BorderBrush="#444" BorderThickness="1">
        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
          <Image Source="{Binding PreviewImage}" Stretch="None" />
        </ScrollViewer>
      </Border>
    </Grid>
  </DockPanel>
</Window>
